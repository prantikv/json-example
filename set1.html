<!doctype html>
<html>
    <head>
    	<script src="jquery-1.10.2.js"></script>
        <link href="jQuery_Mobile/jquery.mobile-1.4.3.min.css" rel="stylesheet" type="text/css">
		<script src="jQuery_Mobile/jquery.mobile-1.4.3.min.js"></script>
    
    </head>

	<body>
        
        <div data-role="page" id="page">
		
		  <div data-role="header">
		  	<a href="#" data-role="button" id="back" data-icon="arrow-l">Back</a>  
		    <h1>Header</h1>
		    <a href="#" data-role="button" id="next" class="ui-btn ui-icon-arrow-r ui-btn-icon-right" data-icon="arrow-r">next</a>  
	      </div>

			<div data-role="content">
            <textarea readonly id="questionstpl"></textarea>

            <fieldset data-role="controlgroup">
				<legend>Options:</legend>
   			  	<input type="radio" name="radio-choice" id="radio-choice-1" value="choice-1" />
    		 	<label for="radio-choice-1">Cat</label>

    		 	<input type="radio" name="radio-choice" id="radio-choice-2" value="choice-2"  />
    		 	<label for="radio-choice-2">Dog</label>

    		 	<input type="radio" name="radio-choice" id="radio-choice-3" value="choice-3"  />
    		 	<label for="radio-choice-3">Hamster</label>

     			<input type="radio" name="radio-choice" id="radio-choice-4" value="choice-4"  />
     			<label for="radio-choice-4">Lizard</label>
			</fieldset>


         


		</div>
      	
      	<div  data-role="footer">
		    <h4>Footer</h4>
	      </div>
	    </div>


        <div id="carousel"></div>
        


<script type="text/javascript">

var count=0;
var obj="";
function showData(info,count){
	//alert(info.questions.length);

	if(count<info.questions.length){
		$("#questionstpl").text(info.questions[count].question);
		$("[for='radio-choice-1']").html(info.questions[count].option1);
		$("#radio-choice-1").attr("value",info.questions[count].option1);

		$("[for='radio-choice-2']").html(info.questions[count].option2);
		$("#radio-choice-2").attr("value",info.questions[count].option2);

		$("[for='radio-choice-3']").html(info.questions[count].option3);
		$("#radio-choice-3").attr("value",info.questions[count].option3);

		$("[for='radio-choice-4']").html(info.questions[count].option4);
		$("#radio-choice-4").attr("value",info.questions[count].option4);
	

	}
}

$("[type='radio']").click(function(){
//alert every click
//alert(99);
var info=obj;
		
	if(this.value.toLowerCase()==info.questions[count].answer.toLowerCase()){
		//if the answer is true
		$(this).prev().css('background-color','#93FF98');
	}
	else
	{
	//if the answer is false
	 	var clicker = $("input[type='radio']");
		 	for(var i=0;i<=3;i++)
		 	{
				if(info.questions[count].answer.toLowerCase()==clicker[i].value.toLowerCase())
				{
					alert(clicker[i].value.toLowerCase());
				//$(this).prev().css('background-color','red');
				var nsib=clicker[i];
				nsib.previousSibling.style.backgroundColor ="#93FF98"
				console.log(nsib.previousSibling.value);
				//nsib.style.backgroundColor ="green";
		 		//alert(this.value+"sdsd");
	    	//	alert(nsib);
		 		//alert($(this).prev());
					$(this).prev().css('background-color','#FF6F50');
		 		}
			}
	// //	$("label").css('background-color','red');
	}
	//count++;
});

	

//$("input[type='radio']").next().css('background-color','red');

// $("input[type='radio']").click(function(){
// 	var clicker = $("input[type='radio']");
// 	//alert(clicker.length);
// 	console.log("clicker.length");
// 	//alert(this.value[0]);
// });
//resets all the colors of the labes so they dont carry to the next JSON obj
function resetter(){
$("label").css('background-color','');
//$("[type='radio']").checkboxradio("refresh");
$("input[type='radio'][checked]").removeAttr("checked");
$("label").removeClass("ui-radio-on").addClass('ui-first-child ui-radio-off');

}


function checkdata(){

console.log(count);
if(count>=obj.questions.length-1){
$("#next").hide();
}else{
	console.log("show the button here");
	$("#next").show();//shoes the button when the count is not max
}

}



$("#next").click(function(){
		count++;//increment count to show next element
		showData(obj,count);
		checkdata();
		resetter();
});


$("#back").click(function(){
	if(count>0){
		showData(obj,--count);
		checkdata();
		resetter();
	}else{
	$(this).attr('href','index.html');
	//alert(count);
	}
});




$(document).ready(function(){
	$.getJSON('data.json', function(info) {
		//css( "color", "red" );
		obj= info;
		showData(info,count);
	});//getJSON
$("[type='radio']").prop( "checked", false );

});



</script>


</body>
</html>
